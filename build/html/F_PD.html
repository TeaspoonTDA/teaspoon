

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>2.5.1. Featurization &mdash; teaspoon 0.1.0 documentation</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />

  
  
  
  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/language_data.js"></script>
        <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="2.5.2. Classification" href="CL.html" />
    <link rel="prev" title="2.5. Persistence Diagram Featurization" href="ML.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: white" >
          

          
            <a href="index.html" class="icon icon-home" alt="Documentation Home"> teaspoon
          

          
            
            <img src="_static/teaspoon.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="installation.html">1. Getting Started</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="modules.html">2. Modules</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="PHN.html">2.1. Persistent Homology of Networks Module (PHN)</a></li>
<li class="toctree-l2"><a class="reference internal" href="DynSysLib.html">2.2. Dynamic Systems Library (DynSysLib) Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="parameter_selection.html">2.3. Parameter Selection Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="information.html">2.4. Information Module</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="ML.html">2.5. Machine Learning (ML) Module</a><ul class="current">
<li class="toctree-l3 current"><a class="current reference internal" href="#">2.5.1. Featurization</a></li>
<li class="toctree-l3"><a class="reference internal" href="CL.html">2.5.2. Classification</a></li>
<li class="toctree-l3"><a class="reference internal" href="ML.html#references">2.5.3. References</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="TDA.html">2.6. Topological Data Analaysis (TDA) Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="TSP.html">2.7. Topological Signal Processing (TSP) Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="MakeData.html">2.8. Make Data (MakeData) Module</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="contributing.html">3. Contributing</a></li>
<li class="toctree-l1"><a class="reference internal" href="license.html">4. License</a></li>
<li class="toctree-l1"><a class="reference internal" href="citing.html">5. Citing</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">teaspoon</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content style-external-links">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="modules.html"><span class="section-number">2. </span>Table of Contents</a> &raquo;</li>
        
          <li><a href="ML.html"><span class="section-number">2.5. </span>Persistence Diagram Featurization</a> &raquo;</li>
        
      <li><span class="section-number">2.5.1. </span>Featurization</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/F_PD.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="featurization">
<span id="id1"></span><h1><span class="section-number">2.5.1. </span>Featurization<a class="headerlink" href="#featurization" title="Permalink to this headline">¶</a></h1>
<p>This documentation includes five different persistence diagram featurization methods.
These are persistence landscapes, persistence images, Carlsson Coordinates, kernel method, and signature of paths.</p>
<div class="section" id="persistence-landscapes">
<span id="id2"></span><h2><span class="section-number">2.5.1.1. </span>Persistence Landscapes<a class="headerlink" href="#persistence-landscapes" title="Permalink to this headline">¶</a></h2>
<div class="section" id="landscape-class">
<h3><span class="section-number">2.5.1.1.1. </span>Landscape class<a class="headerlink" href="#landscape-class" title="Permalink to this headline">¶</a></h3>
<dl class="py class">
<dt id="teaspoon.ML.feature_functions.PLandscape">
<em class="property">class </em><code class="sig-prename descclassname">teaspoon.ML.feature_functions.</code><code class="sig-name descname">PLandscape</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">PD</span></em>, <em class="sig-param"><span class="n">L_number</span><span class="o">=</span><span class="default_value">[]</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/teaspoon/ML/feature_functions.html#PLandscape"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#teaspoon.ML.feature_functions.PLandscape" title="Permalink to this definition">¶</a></dt>
<dd><dl class="py method">
<dt id="teaspoon.ML.feature_functions.PLandscape.PLandscape_plot">
<code class="sig-name descname">PLandscape_plot</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">PL</span></em>, <em class="sig-param"><span class="n">L_number</span><span class="o">=</span><span class="default_value">[]</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/teaspoon/ML/feature_functions.html#PLandscape.PLandscape_plot"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#teaspoon.ML.feature_functions.PLandscape.PLandscape_plot" title="Permalink to this definition">¶</a></dt>
<dd><p>This function plots selected persistence landscapes or it plots all of them if user does not provide desired landscape functions.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>(</strong><strong>PD</strong><strong>)</strong> (<em>ndarray</em>) – Persistence diagram points–(Nx2) matrix.</p></li>
<li><p><strong>(</strong><strong>L_Number</strong><strong>)</strong> (<em>list</em>) – Desired landscape numbers in a list form. If the list is empty, all landscapes will be plotted.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="field-list simple">
<dt class="field-odd">PL_plot</dt>
<dd class="field-odd"><p>(fig) The figure that includes chosen or all landsape functions</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="teaspoon.ML.feature_functions.PLandscape.__init__">
<code class="sig-name descname">__init__</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">PD</span></em>, <em class="sig-param"><span class="n">L_number</span><span class="o">=</span><span class="default_value">[]</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/teaspoon/ML/feature_functions.html#PLandscape.__init__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#teaspoon.ML.feature_functions.PLandscape.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>This class uses landscapes algorithm (<code class="xref py py-meth docutils literal notranslate"><span class="pre">PD_Featurization.PLandscapes()</span></code>) to compute persistence landscapes and plot them based on user preference.
The algorithm computes the persistence landscapes is written based on Ref. <a class="bibtex reference internal" href="ML.html#bubenik2017" id="id3">[3]</a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>(</strong><strong>PD</strong><strong>)</strong> (<em>ndarray</em>) – Persistence diagram points–(Nx2) matrix.</p></li>
<li><p><strong>(</strong><strong>L_Number</strong><strong>)</strong> (<em>list</em>) – Desired landscape numbers in a list form. If the list is empty, all landscapes will be plotted.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="field-list simple">
<dt class="field-odd">PL_number</dt>
<dd class="field-odd"><p>(int) Total number of landscapes for given persistence diagram</p>
</dd>
<dt class="field-even">DesPL</dt>
<dd class="field-even"><p>(ndarray) Includes only selected landscapes functions given in L_number</p>
</dd>
<dt class="field-odd">AllPL</dt>
<dd class="field-odd"><p>(ndarray) Includes all landscape functions of the persistece diagram</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

</dd></dl>

<p><strong>Example:</strong> In this example, we do not specify which landscape function we want specifically. Therefore, algorihtms returns a warning to user if desired landscape points is wanted.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">teaspoon.ML.feature_functions</span> <span class="kn">import</span> <span class="n">PLandscape</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span><span class="o">=</span><span class="p">[]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([(</span><span class="mi">1</span><span class="p">,</span><span class="mi">5</span><span class="p">),(</span><span class="mi">1</span><span class="p">,</span><span class="mi">4</span><span class="p">),(</span><span class="mi">2</span><span class="p">,</span><span class="mi">14</span><span class="p">),(</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">),(</span><span class="mi">4</span><span class="p">,</span><span class="mf">8.1</span><span class="p">),(</span><span class="mi">6</span><span class="p">,</span><span class="mi">7</span><span class="p">),(</span><span class="mi">7</span><span class="p">,</span><span class="mf">8.5</span><span class="p">),(</span><span class="mi">9</span><span class="p">,</span><span class="mi">12</span><span class="p">)]))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">PLC</span> <span class="o">=</span> <span class="n">PLandscape</span><span class="p">(</span><span class="n">a</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">PLC</span><span class="o">.</span><span class="n">PL_number</span><span class="p">)</span>
<span class="go">4</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">PLC</span><span class="o">.</span><span class="n">AllPL</span><span class="p">)</span>
<span class="go">   Landscape Number                                             Points</span>
<span class="go">0               1.0  [[1.0, 0.0], [3.0, 2.0], [3.5, 1.5], [8.0, 6.0...</span>
<span class="go">1               2.0  [[1.0, 0.0], [2.5, 1.5], [3.0, 1.0], [3.5, 1.5...</span>
<span class="go">2               3.0  [[2.0, 0.0], [3.0, 1.0], [4.0, 0.0], [4.5, 0.5...</span>
<span class="go">3               4.0               [[3.0, 0.0], [3.5, 0.5], [4.0, 0.0]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">PLC</span><span class="o">.</span><span class="n">DesPL</span><span class="p">)</span>
<span class="go">Warning: Desired landscape numbers were not specified.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fig</span> <span class="o">=</span> <span class="n">PLC</span><span class="o">.</span><span class="n">PLandscape_plot</span><span class="p">(</span><span class="n">PLC</span><span class="o">.</span><span class="n">AllPL</span><span class="p">[</span><span class="s1">&#39;Points&#39;</span><span class="p">])</span>
</pre></div>
</div>
<p>Output of the plotting functions is:</p>
<div class="figure align-center" id="id12">
<a class="reference internal image-reference" href="_images/All_Landscapes.png"><img alt="_images/All_Landscapes.png" src="_images/All_Landscapes.png" style="width: 627.3px; height: 371.09999999999997px;" /></a>
<p class="caption"><span class="caption-text">All landscape functions for the given persistence diagram</span><a class="headerlink" href="#id12" title="Permalink to this image">¶</a></p>
</div>
<p>If user specify the desired landscapes, output will be:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">PLC</span>  <span class="o">=</span> <span class="n">PLandscape</span><span class="p">(</span><span class="n">a</span><span class="p">[</span><span class="mi">0</span><span class="p">],[</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">PLC</span> <span class="o">.</span><span class="n">PL_number</span><span class="p">)</span>
<span class="go">4</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">PLC</span> <span class="o">.</span><span class="n">AllPL</span><span class="p">)</span>
<span class="go">        Landscape Number                                             Points</span>
<span class="go">0               1.0  [[1.0, 0.0], [3.0, 2.0], [3.5, 1.5], [8.0, 6.0...</span>
<span class="go">1               2.0  [[1.0, 0.0], [2.5, 1.5], [3.0, 1.0], [3.5, 1.5...</span>
<span class="go">2               3.0  [[2.0, 0.0], [3.0, 1.0], [4.0, 0.0], [4.5, 0.5...</span>
<span class="go">3               4.0               [[3.0, 0.0], [3.5, 0.5], [4.0, 0.0]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">PLC</span> <span class="o">.</span><span class="n">DesPL</span><span class="p">)</span>
<span class="go">[array([[ 1.  ,  0.  ],</span>
<span class="go">        [ 2.5 ,  1.5 ],</span>
<span class="go">        [ 3.  ,  1.  ],</span>
<span class="go">        [ 3.5 ,  1.5 ],</span>
<span class="go">        [ 4.5 ,  0.5 ],</span>
<span class="go">        [ 6.05,  2.05],</span>
<span class="go">        [ 7.55,  0.55],</span>
<span class="go">        [ 7.75,  0.75],</span>
<span class="go">        [ 8.5 ,  0.  ],</span>
<span class="go">        [ 9.  ,  0.  ],</span>
<span class="go">        [10.5 ,  1.5 ],</span>
<span class="go">        [12.  ,  0.  ]])</span>
<span class="go">array([[2.  , 0.  ],</span>
<span class="go">        [3.  , 1.  ],</span>
<span class="go">        [4.  , 0.  ],</span>
<span class="go">        [4.5 , 0.5 ],</span>
<span class="go">        [5.  , 0.  ],</span>
<span class="go">        [6.  , 0.  ],</span>
<span class="go">        [6.5 , 0.5 ],</span>
<span class="go">        [7.  , 0.  ],</span>
<span class="go">        [7.55, 0.55],</span>
<span class="go">        [8.1 , 0.  ]])]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">PLC</span><span class="o">.</span><span class="n">PLandscape_plot</span><span class="p">(</span><span class="n">points</span><span class="p">[</span><span class="s1">&#39;Points&#39;</span><span class="p">])</span>
</pre></div>
</div>
<p>Output of the plotting functions is:</p>
<div class="figure align-center" id="id13">
<a class="reference internal image-reference" href="_images/Des_Landscapes.png"><img alt="_images/Des_Landscapes.png" src="_images/Des_Landscapes.png" style="width: 639.3px; height: 371.09999999999997px;" /></a>
<p class="caption"><span class="caption-text">Chosen landscape functions for the given persistence diagram</span><a class="headerlink" href="#id13" title="Permalink to this image">¶</a></p>
</div>
</div>
<div class="section" id="parameter-bucket-for-landscapes">
<span id="pb-landscape"></span><h3><span class="section-number">2.5.1.1.2. </span>Parameter bucket for landscapes<a class="headerlink" href="#parameter-bucket-for-landscapes" title="Permalink to this headline">¶</a></h3>
<p><strong>Example:</strong> If user does not provide classification labels, parameter bucket will return a warning as shown below.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">teaspoon.ML.Base</span> <span class="kn">import</span> <span class="n">LandscapesParameterBucket</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">sklearn.svm</span> <span class="kn">import</span> <span class="n">LinearSVC</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">termcolor</span> <span class="kn">import</span> <span class="n">colored</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">params</span> <span class="o">=</span> <span class="n">LandscapesParameterBucket</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">params</span><span class="o">.</span><span class="n">clf_model</span> <span class="o">=</span> <span class="n">LinearSVC</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">params</span><span class="o">.</span><span class="n">test_size</span> <span class="o">=</span><span class="mf">0.5</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">params</span><span class="o">.</span><span class="n">Labels</span> <span class="o">=</span> <span class="kc">None</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">params</span><span class="o">.</span><span class="n">PL_Number</span> <span class="o">=</span> <span class="p">[</span><span class="mi">2</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">params</span><span class="p">)</span>
<span class="go">Variables in parameter bucket</span>
<span class="go">-----------------------------</span>
<span class="go">clf_model : &lt;class &#39;sklearn.svm._classes.LinearSVC&#39;&gt;</span>
<span class="go">feature_function : &lt;function F_Landscape at 0x000001F6AB9F6558&gt;</span>
<span class="go">PL_Number : [2]</span>
<span class="go">Labels : None</span>
<span class="go">test_size : 0.5</span>
<span class="go">-----------------------------</span>
<span class="go">Warning: Classification labels are missing.</span>
</pre></div>
</div>
</div>
<div class="section" id="feature-matrix-generation">
<h3><span class="section-number">2.5.1.1.3. </span>Feature matrix generation<a class="headerlink" href="#feature-matrix-generation" title="Permalink to this headline">¶</a></h3>
<div class="figure align-center" id="id14">
<span id="f-matrix"></span><a class="reference internal image-reference" href="_images/Mesh_Generation_Example.png"><img alt="_images/Mesh_Generation_Example.png" src="_images/Mesh_Generation_Example.png" style="width: 958.0px; height: 525.4px;" /></a>
<p class="caption"><span class="caption-text">Feature matrix generation steps explained with an simple example.</span><a class="headerlink" href="#id14" title="Permalink to this image">¶</a></p>
</div>
<p><code class="xref std std-numref docutils literal notranslate"><span class="pre">F_Matrix</span></code> explains the steps for generation feature matrix using persistence landscapes. There are three persistence landscape sets for three different persistence diagram.
We choose one landscape function among them. In the example above, second landscape function is selected and plotted for each landscape set.
The plot in the third column includes all selected landscape functions.
In other words, we plot all selected landscapes in same figure.
The next step is to find the mesh points using node points of landscapes.
Node points are projected on x-axis.
The red dots in the plot represent these projections.
Then, we sort these points (red dots) and remove the duplicates if there is any.
Resulting array will be our mesh and it is used to obtain features.
The mesh points is shown in <code class="xref std std-numref docutils literal notranslate"><span class="pre">Mesh</span></code> with red dots.
There may not be corresponding y value for each mesh points in selected landscape functions so we use linear interpolation to find these values.
Then, these y values become the feature for each landscape functions, and they can be used in classification.</p>
<div class="figure align-center" id="id15">
<span id="mesh"></span><a class="reference internal image-reference" href="_images/Mesh_Points.png"><img alt="_images/Mesh_Points.png" src="_images/Mesh_Points.png" style="width: 631.5px; height: 247.79999999999998px;" /></a>
<p class="caption"><span class="caption-text">Mesh obtained using second landscape function for the example provided in <code class="xref std std-numref docutils literal notranslate"><span class="pre">F_Matrix</span></code>.</span><a class="headerlink" href="#id15" title="Permalink to this image">¶</a></p>
</div>
<span class="target" id="module-teaspoon.ML.feature_functions"></span><p>Machine learning featurization method</p>
<p>If you make use of this code, please cite the following paper:&lt;br/&gt;
J.A. Perea, E. Munch, and F. Khasawneh.  “Approximating Continuous Functions On Persistence Diagrams.” Preprint, 2017.</p>
<dl class="py function">
<dt id="teaspoon.ML.feature_functions.F_Landscape">
<code class="sig-prename descclassname">teaspoon.ML.feature_functions.</code><code class="sig-name descname">F_Landscape</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">PL</span></em>, <em class="sig-param"><span class="n">params</span></em>, <em class="sig-param"><span class="n">max_l_number</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/teaspoon/ML/feature_functions.html#F_Landscape"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#teaspoon.ML.feature_functions.F_Landscape" title="Permalink to this definition">¶</a></dt>
<dd><p>This function computes the features for selected persistence landscape numbers.
There are three inputs to the function.
These are all landscape functions for each persistence diagram, parameter bucket object and the maximum level of landscape function.
If user does not specify the third input, algorithm will automatically compute it.
The second parameter includes the parameters needed to compute features and perform classification.
Please see <code class="xref py py-meth docutils literal notranslate"><span class="pre">PD_ParameterBucket.LandscapesParameterBucket()</span></code> for more details about parameters.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>(</strong><strong>PL</strong><strong>)</strong> (<em>ndarray</em>) – Object array that includes all landscape functions for each persistence diagram</p></li>
<li><p><strong>(</strong><strong>params</strong><strong>)</strong> (<em>object</em>) – Parameterbucket object. We need landscape numbers defined by user to generate feature matrix.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="field-list simple">
<dt class="field-odd">feature</dt>
<dd class="field-odd"><p>(Array) NxM matrix that includes the features for each persistence diagram, where N is the number of persistence diagrams and M is the numbers of features which is equal to length of sorted mesh of landscapes functions.</p>
</dd>
<dt class="field-even">Sorted_mesh</dt>
<dd class="field-even"><p>(list) It includes the sorted mesh for each landscape function chosen by user.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

</div>
</div>
<div class="section" id="persistence-images">
<span id="id4"></span><h2><span class="section-number">2.5.1.2. </span>Persistence Images<a class="headerlink" href="#persistence-images" title="Permalink to this headline">¶</a></h2>
<dl class="py function">
<dt id="teaspoon.ML.feature_functions.F_Image">
<code class="sig-prename descclassname">teaspoon.ML.feature_functions.</code><code class="sig-name descname">F_Image</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">PD1</span></em>, <em class="sig-param"><span class="n">PS</span></em>, <em class="sig-param"><span class="n">var</span></em>, <em class="sig-param"><span class="n">plot</span></em>, <em class="sig-param"><span class="n">TF_Learning</span></em>, <em class="sig-param"><span class="n">D_Img</span><span class="o">=</span><span class="default_value">[]</span></em>, <em class="sig-param"><span class="o">*</span><span class="n">args</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/teaspoon/ML/feature_functions.html#F_Image"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#teaspoon.ML.feature_functions.F_Image" title="Permalink to this definition">¶</a></dt>
<dd><p>This function returns user feature matrix generated using persistence images.
We use <a class="reference external" href="https://gitlab.com/csu-tda/PersistenceImages">PersistenceImages</a> package to compute persistence images.
User can also specify a list that includes the persistence diagram number to plot images of them.
Algorithms returns plot only if plotting option is True and transfer learning is false.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>(</strong><strong>PD</strong><strong>)</strong> (<em>ndarray</em>) – Object array that includes all persistence diagrams</p></li>
<li><p><strong>(</strong><strong>PS</strong><strong>)</strong> (<em>float</em>) – Pixel size.</p></li>
<li><p><strong>(</strong><strong>var</strong><strong>)</strong> (<em>float</em>) – Variance of the Gaussian distribution.</p></li>
<li><p><strong>(</strong><strong>D_Img</strong><strong>)</strong> (<em>list</em>) – The number of persistence diagrams in a list. If this parameter is provided, algorithm will only plot the persistence images of these persistence diagrams.</p></li>
<li><p><strong>(</strong><strong>TF_Learning</strong><strong>)</strong> – If it is true, then algorithm will need the second persistence diagram set and it will compute feature matrices for training set and test set.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="field-list simple">
<dt class="field-odd">output</dt>
<dd class="field-odd"><p>(dict) A dictionary that includes the feature matrix. In the case of transfer learning, output will have training and test feature matrices separately.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<p><strong>Example:</strong></p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">teaspoon.ML.feature_functions</span> <span class="kn">import</span> <span class="n">F_Image</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">PD</span><span class="o">=</span><span class="p">[]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">PD</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([(</span><span class="mi">1</span><span class="p">,</span><span class="mi">5</span><span class="p">),(</span><span class="mi">1</span><span class="p">,</span><span class="mi">4</span><span class="p">),(</span><span class="mi">2</span><span class="p">,</span><span class="mi">14</span><span class="p">),(</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">),(</span><span class="mi">4</span><span class="p">,</span><span class="mf">8.1</span><span class="p">),(</span><span class="mi">6</span><span class="p">,</span><span class="mi">7</span><span class="p">),(</span><span class="mi">7</span><span class="p">,</span><span class="mf">8.5</span><span class="p">),(</span><span class="mi">9</span><span class="p">,</span><span class="mi">12</span><span class="p">)]))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">PD</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([(</span><span class="mf">1.2</span><span class="p">,</span><span class="mf">3.6</span><span class="p">),(</span><span class="mi">2</span><span class="p">,</span><span class="mf">2.6</span><span class="p">),(</span><span class="mi">2</span><span class="p">,</span><span class="mi">7</span><span class="p">),(</span><span class="mf">3.7</span><span class="p">,</span><span class="mi">4</span><span class="p">),(</span><span class="mi">5</span><span class="p">,</span><span class="mf">7.3</span><span class="p">),(</span><span class="mf">5.5</span><span class="p">,</span><span class="mi">7</span><span class="p">),(</span><span class="mi">9</span><span class="p">,</span><span class="mi">11</span><span class="p">),(</span><span class="mi">9</span><span class="p">,</span><span class="mi">12</span><span class="p">),(</span><span class="mi">12</span><span class="p">,</span><span class="mi">17</span><span class="p">)]))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plot</span> <span class="o">=</span> <span class="kc">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">TF_Learning</span> <span class="o">=</span> <span class="kc">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">D_Img</span> <span class="o">=</span> <span class="p">[]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">feature_PI</span> <span class="o">=</span> <span class="n">F_Image</span><span class="p">(</span><span class="n">PD</span><span class="p">,</span><span class="mf">0.01</span><span class="p">,</span><span class="mf">0.15</span><span class="p">,</span><span class="n">plot</span><span class="p">,</span><span class="n">TF_Learning</span><span class="p">,</span><span class="n">D_Img</span><span class="p">)</span>
<span class="go"># if user wants to plot images</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plot</span><span class="o">=</span><span class="kc">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">feature_PI</span> <span class="o">=</span> <span class="n">F_Image</span><span class="p">(</span><span class="n">PD</span><span class="p">,</span><span class="mf">0.01</span><span class="p">,</span><span class="mf">0.15</span><span class="p">,</span><span class="n">plot</span><span class="p">,</span><span class="n">TF_Learning</span><span class="p">,</span><span class="n">D_Img</span><span class="p">)</span>
</pre></div>
</div>
<p>The algorithm will return two images as shown in <code class="xref std std-numref docutils literal notranslate"><span class="pre">PI_Example</span></code>.</p>
<div class="figure align-center" id="pi-example">
<a class="reference internal image-reference" href="_images/PI_Example.png"><img alt="_images/PI_Example.png" src="_images/PI_Example.png" style="width: 498.8px; height: 241.8px;" /></a>
</div>
</div>
<div class="section" id="carlsson-coordinates">
<span id="id5"></span><h2><span class="section-number">2.5.1.3. </span>Carlsson Coordinates<a class="headerlink" href="#carlsson-coordinates" title="Permalink to this headline">¶</a></h2>
<dl class="py function">
<dt id="teaspoon.ML.feature_functions.F_CCoordinates">
<code class="sig-prename descclassname">teaspoon.ML.feature_functions.</code><code class="sig-name descname">F_CCoordinates</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">PD</span></em>, <em class="sig-param"><span class="n">FN</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/teaspoon/ML/feature_functions.html#F_CCoordinates"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#teaspoon.ML.feature_functions.F_CCoordinates" title="Permalink to this definition">¶</a></dt>
<dd><p>This code generates feature matrix to be used in machine learning applications using Carlsson Coordinates which is composed of five different functions shown in Eq. <a class="reference internal" href="#equation-1st-coord">(1)</a> - <a class="reference internal" href="#equation-5th-coord">(5)</a>.
The first four functions are taken from Ref. <a class="bibtex reference internal" href="ML.html#adcock2016" id="id6">[2]</a> and the last one is obtained from Ref. <a class="bibtex reference internal" href="ML.html#khasawneh2018" id="id7">[6]</a>.
There are two inputs to the function. These are persistence diagrams and number of coordinates that user wants to use in feature matrix.
Algorithm will return feature matrix object array that includes feature matrices for different combinations, and total number of combinations will be <span class="math notranslate nohighlight">\(\sum_{i=1}^{FN} {FN \choose i}\)</span>.</p>
<div class="math notranslate nohighlight" id="equation-1st-coord">
<span class="eqno">(1)<a class="headerlink" href="#equation-1st-coord" title="Permalink to this equation">¶</a></span>\[f_{1}(PD) = \sum b_{i}(d_{i}-b_{i})\]</div>
<div class="math notranslate nohighlight" id="equation-2nd-coord">
<span class="eqno">(2)<a class="headerlink" href="#equation-2nd-coord" title="Permalink to this equation">¶</a></span>\[f_{2}(PD) = \sum (d_{max}-d_{i})(d_{i}-b_{i})\]</div>
<div class="math notranslate nohighlight" id="equation-3rd-coord">
<span class="eqno">(3)<a class="headerlink" href="#equation-3rd-coord" title="Permalink to this equation">¶</a></span>\[f_{3}(PD) = \sum b_{i}^{2}(d_{i}-b_{i})^{4}\]</div>
<div class="math notranslate nohighlight" id="equation-4th-coord">
<span class="eqno">(4)<a class="headerlink" href="#equation-4th-coord" title="Permalink to this equation">¶</a></span>\[f_{4}(PD) = \sum (d_{max}-d_{i})^{2}(d_{i}-b_{i})^{4}\]</div>
<div class="math notranslate nohighlight" id="equation-5th-coord">
<span class="eqno">(5)<a class="headerlink" href="#equation-5th-coord" title="Permalink to this equation">¶</a></span>\[f_{5}(PD) = \sum max(d_{i}-b_{i})\]</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>(</strong><strong>PD</strong><strong>)</strong> (<em>ndarray</em>) – Object array that includes all persistence diagrams</p></li>
<li><p><strong>(</strong><strong>FN</strong><strong>)</strong> (<em>float</em>) – Number of features</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="field-list simple">
<dt class="field-odd">FeatureMatrix</dt>
<dd class="field-odd"><p>(Array) NxFN matrix that includes the features for each persistence diagram, where N is the number of persistence diagrams and FN is the number of feature chosen.</p>
</dd>
<dt class="field-even">TotalNumComb</dt>
<dd class="field-even"><p>(int) Number of combinations.</p>
</dd>
<dt class="field-odd">CombList</dt>
<dd class="field-odd"><p>(list) List of combinations.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<p><strong>Example:</strong></p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">teaspoon.ML.feature_functions</span> <span class="kn">import</span> <span class="n">F_CCoordinates</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">PD</span><span class="o">=</span><span class="p">[]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">PD</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([(</span><span class="mi">1</span><span class="p">,</span><span class="mi">5</span><span class="p">),(</span><span class="mi">1</span><span class="p">,</span><span class="mi">4</span><span class="p">),(</span><span class="mi">2</span><span class="p">,</span><span class="mi">14</span><span class="p">),(</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">),(</span><span class="mi">4</span><span class="p">,</span><span class="mf">8.1</span><span class="p">),(</span><span class="mi">6</span><span class="p">,</span><span class="mi">7</span><span class="p">),(</span><span class="mi">7</span><span class="p">,</span><span class="mf">8.5</span><span class="p">),(</span><span class="mi">9</span><span class="p">,</span><span class="mi">12</span><span class="p">)]))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">PD</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([(</span><span class="mf">1.2</span><span class="p">,</span><span class="mf">3.6</span><span class="p">),(</span><span class="mi">2</span><span class="p">,</span><span class="mf">2.6</span><span class="p">),(</span><span class="mi">2</span><span class="p">,</span><span class="mi">7</span><span class="p">),(</span><span class="mf">3.7</span><span class="p">,</span><span class="mi">4</span><span class="p">),(</span><span class="mi">5</span><span class="p">,</span><span class="mf">7.3</span><span class="p">),(</span><span class="mf">5.5</span><span class="p">,</span><span class="mi">7</span><span class="p">),(</span><span class="mi">9</span><span class="p">,</span><span class="mi">11</span><span class="p">),(</span><span class="mi">9</span><span class="p">,</span><span class="mi">12</span><span class="p">),(</span><span class="mi">12</span><span class="p">,</span><span class="mi">17</span><span class="p">)]))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">FN</span><span class="o">=</span><span class="mi">3</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">FeatureMatrix</span><span class="p">,</span><span class="n">TotalNumComb</span><span class="p">,</span><span class="n">CombList</span> <span class="o">=</span> <span class="n">F_CCoordinates</span><span class="p">(</span><span class="n">PD</span><span class="p">,</span><span class="n">FN</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">TotalNumComb</span><span class="p">)</span>
<span class="go">7</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">CombList</span><span class="p">)</span>
<span class="go">[[1. 0. 0. 0. 0.]</span>
<span class="go"> [2. 0. 0. 0. 0.]</span>
<span class="go"> [3. 0. 0. 0. 0.]</span>
<span class="go"> [1. 2. 0. 0. 0.]</span>
<span class="go"> [1. 3. 0. 0. 0.]</span>
<span class="go"> [2. 3. 0. 0. 0.]</span>
<span class="go"> [1. 2. 3. 0. 0.]]</span>
</pre></div>
</div>
</div>
<div class="section" id="path-signatures">
<span id="id8"></span><h2><span class="section-number">2.5.1.4. </span>Path Signatures<a class="headerlink" href="#path-signatures" title="Permalink to this headline">¶</a></h2>
<dl class="py function">
<dt id="teaspoon.ML.feature_functions.F_PSignature">
<code class="sig-prename descclassname">teaspoon.ML.feature_functions.</code><code class="sig-name descname">F_PSignature</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">PL</span></em>, <em class="sig-param"><span class="n">L_Number</span><span class="o">=</span><span class="default_value">[]</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/teaspoon/ML/feature_functions.html#F_PSignature"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#teaspoon.ML.feature_functions.F_PSignature" title="Permalink to this definition">¶</a></dt>
<dd><p>This function takes the persistence landscape set and returns the feature matrix which is computed using path signatures <a class="bibtex reference internal" href="ML.html#chevyrev2016" id="id9">[4]</a><a class="bibtex reference internal" href="ML.html#chevyrev2020" id="id10">[5]</a>.
Function takes two inputs and these are persistence landcsape set in an object array and the landscape numbers that user wants to compute their signatures.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>(</strong><strong>PL</strong><strong>)</strong> (<em>ndarray</em>) – Object array that includes all landscape functions for each persistence diagram</p></li>
<li><p><strong>(</strong><strong>L_Number</strong><strong>)</strong> (<em>list</em>) – Landscape numbers that user wants to use in feature matrix generation. If this parameter is not specified, algorithm will generate feature matrix using first landscapes.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="field-list simple">
<dt class="field-odd">feature_PS</dt>
<dd class="field-odd"><p>(Array) Nx6 matrix that includes the features for each persistence diagram, where N is the number of persistence landscape sets.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<p><strong>Example:</strong></p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">teaspoon.ML.feature_functions</span> <span class="kn">import</span> <span class="n">PLandscape</span><span class="p">,</span><span class="n">F_PSignature</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">PD</span><span class="o">=</span><span class="p">[]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">PD</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([(</span><span class="mi">1</span><span class="p">,</span><span class="mi">5</span><span class="p">),(</span><span class="mi">1</span><span class="p">,</span><span class="mi">4</span><span class="p">),(</span><span class="mi">2</span><span class="p">,</span><span class="mi">14</span><span class="p">),(</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">),(</span><span class="mi">4</span><span class="p">,</span><span class="mf">8.1</span><span class="p">),(</span><span class="mi">6</span><span class="p">,</span><span class="mi">7</span><span class="p">),(</span><span class="mi">7</span><span class="p">,</span><span class="mf">8.5</span><span class="p">),(</span><span class="mi">9</span><span class="p">,</span><span class="mi">12</span><span class="p">)]))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">PD</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([(</span><span class="mf">1.2</span><span class="p">,</span><span class="mf">3.6</span><span class="p">),(</span><span class="mi">2</span><span class="p">,</span><span class="mf">2.6</span><span class="p">),(</span><span class="mi">2</span><span class="p">,</span><span class="mi">7</span><span class="p">),(</span><span class="mf">3.7</span><span class="p">,</span><span class="mi">4</span><span class="p">),(</span><span class="mi">5</span><span class="p">,</span><span class="mf">7.3</span><span class="p">),(</span><span class="mf">5.5</span><span class="p">,</span><span class="mi">7</span><span class="p">),(</span><span class="mi">9</span><span class="p">,</span><span class="mi">11</span><span class="p">),(</span><span class="mi">9</span><span class="p">,</span><span class="mi">12</span><span class="p">),(</span><span class="mi">12</span><span class="p">,</span><span class="mi">17</span><span class="p">)]))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">PerLand</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">(</span><span class="n">shape</span><span class="o">=</span><span class="p">(</span><span class="mi">2</span><span class="p">),</span><span class="n">dtype</span><span class="o">=</span><span class="nb">object</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">):</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">Land</span><span class="o">=</span><span class="n">PLandscape</span><span class="p">(</span><span class="n">a</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">PerLand</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">=</span><span class="n">Land</span><span class="o">.</span><span class="n">AllPL</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">L_number</span> <span class="o">=</span> <span class="p">[</span><span class="mi">2</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">feature_PS</span> <span class="o">=</span> <span class="n">F_PSignature</span><span class="p">(</span><span class="n">PerLand</span><span class="p">,</span><span class="n">L_number</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="kernel-method">
<h2><span class="section-number">2.5.1.5. </span>Kernel Method<a class="headerlink" href="#kernel-method" title="Permalink to this headline">¶</a></h2>
<dl class="py function">
<dt id="teaspoon.ML.feature_functions.KernelMethod">
<code class="sig-prename descclassname">teaspoon.ML.feature_functions.</code><code class="sig-name descname">KernelMethod</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">perDgm1</span></em>, <em class="sig-param"><span class="n">perDgm2</span></em>, <em class="sig-param"><span class="n">sigma</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/teaspoon/ML/feature_functions.html#KernelMethod"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#teaspoon.ML.feature_functions.KernelMethod" title="Permalink to this definition">¶</a></dt>
<dd><p>This function computes the kernel for given two persistence diagram based on the formula provided in Ref. <a class="bibtex reference internal" href="ML.html#reininghaus2015" id="id11">[8]</a>.
There are three inputs and these are two persistence diagrams and the kernel scale sigma.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>(</strong><strong>perDgm1</strong><strong>)</strong> (<em>ndarray</em>) – Object array that includes first persistence diagram set</p></li>
<li><p><strong>(</strong><strong>perDgm2</strong><strong>)</strong> (<em>ndarray</em>) – Object array that includes second persistence diagram set</p></li>
<li><p><strong>(</strong><strong>sigma</strong><strong>)</strong> (<em>float</em>) – Kernel scale</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="field-list simple">
<dt class="field-odd">Kernel</dt>
<dd class="field-odd"><p>(float) The kernel value for given two persistence diagrams.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<p><strong>Example:</strong></p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">teaspoon.ML.feature_functions</span> <span class="kn">import</span> <span class="n">KernelMethod</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">PD</span><span class="o">=</span><span class="p">[]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">PD</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([(</span><span class="mi">1</span><span class="p">,</span><span class="mi">5</span><span class="p">),(</span><span class="mi">1</span><span class="p">,</span><span class="mi">4</span><span class="p">),(</span><span class="mi">2</span><span class="p">,</span><span class="mi">14</span><span class="p">),(</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">),(</span><span class="mi">4</span><span class="p">,</span><span class="mf">8.1</span><span class="p">),(</span><span class="mi">6</span><span class="p">,</span><span class="mi">7</span><span class="p">),(</span><span class="mi">7</span><span class="p">,</span><span class="mf">8.5</span><span class="p">),(</span><span class="mi">9</span><span class="p">,</span><span class="mi">12</span><span class="p">)]))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">PD</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([(</span><span class="mf">1.2</span><span class="p">,</span><span class="mf">3.6</span><span class="p">),(</span><span class="mi">2</span><span class="p">,</span><span class="mf">2.6</span><span class="p">),(</span><span class="mi">2</span><span class="p">,</span><span class="mi">7</span><span class="p">),(</span><span class="mf">3.7</span><span class="p">,</span><span class="mi">4</span><span class="p">),(</span><span class="mi">5</span><span class="p">,</span><span class="mf">7.3</span><span class="p">),(</span><span class="mf">5.5</span><span class="p">,</span><span class="mi">7</span><span class="p">),(</span><span class="mi">9</span><span class="p">,</span><span class="mi">11</span><span class="p">),(</span><span class="mi">9</span><span class="p">,</span><span class="mi">12</span><span class="p">),(</span><span class="mi">12</span><span class="p">,</span><span class="mi">17</span><span class="p">)]))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">perDgm1</span> <span class="o">=</span> <span class="n">PD</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">perDgm2</span> <span class="o">=</span> <span class="n">PD</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sigma</span><span class="o">=</span><span class="mf">0.25</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">kernel</span> <span class="o">=</span> <span class="n">KernelMethod</span><span class="p">(</span><span class="n">perDgm1</span><span class="p">,</span> <span class="n">perDgm2</span><span class="p">,</span> <span class="n">sigma</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">kernel</span><span class="p">)</span>
<span class="go">0.9160645485529173</span>
</pre></div>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="CL.html" class="btn btn-neutral float-right" title="2.5.2. Classification" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="ML.html" class="btn btn-neutral float-left" title="2.5. Persistence Diagram Featurization" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2020, Munch

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
    <!-- Theme Analytics -->
    <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-XXXXXXX-1', 'auto');
    ga('send', 'pageview');
    </script>

    
   

</body>
</html>